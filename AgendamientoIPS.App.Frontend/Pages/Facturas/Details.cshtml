@page
@model AgendamientoIPS.App.Frontend.Pages.Facturas.DetailsModel
@{
    ViewData["Title"] = "Detalles de Factura";
}
<br>
<h1>Detalles de Factura</h1>
<table class="table table-borderless table-secondary">
    <tr>
        <th scope="col">Número de Factura</th>
        <td>@Model.factura.NumFactura</td>
    </tr>
    <tr>
        <th scope="col">Fecha de Factura</th>
        <td>@Model.factura.FechaFactura.ToString("dd/MM/yyyy")</td>
    </tr>
    <tr>
        <th scope="col">Concepto</th>
        <td>@Model.factura.Concepto</td>
    </tr>
    <tr>
        <th scope="col">Tarifa Aplicada</th>
        <td>@Model.factura.TarifaAplicada</td>
    </tr>
    <tr>
        <th scope="col">Valor Pagado</th>
        <td>@Model.factura.ValorPagado</td>
    </tr>
    <tr>
        <th scope="col">Convenio</th>
        @if (Model.factura.IdConvenio == null)
        {
            <td>
                @if (User.Identity.IsAuthenticated)
                {
                    <a class="btn btn-primary" asp-page="./AddConvenio" asp-route-id="@Model.factura.Id">Asignar Convenio</a>
                }
            </td>
        }
        else
        {
            <td>@Model.factura.IdConvenio.NumConvenio</td>
        }
    </tr>
    <tr>
        <th scope="col">Descuento</th>
        @if (Model.factura.IdConvenio == null)
        {
            <td></td>
        }
        else
        {
            <td>@Model.factura.IdConvenio.Descuento%</td>
        }
    </tr>
    <tr>
        <th scope="col">Cita</th>
        @if (Model.factura.Cita == null)
        {
            <td>
                @if (User.Identity.IsAuthenticated)
                {
                    <a class="btn btn-primary" asp-page="./AddCita" asp-route-id="@Model.factura.Id">Asignar Cita</a>
                }    
            </td>
        }
        else
        {
            <td>@Model.factura.Cita.NumCita</td>
        }
    </tr>
</table>
<a class="btn btn-secondary" asp-page="./Index">Volver</a>